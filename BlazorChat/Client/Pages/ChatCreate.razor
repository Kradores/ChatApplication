@page "/chats/create"

@using BlazorChat.Client.Requests.Users

@inject NavigationManager NavManager
@inject UserApi UserRequests

<PageTitle>Create Chat</PageTitle>

<EditForm EditContext="@EditContext" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <ValidationMessage For=@(() => ErrorMessage) />
    <br />
    <div class="form-group">
        <label for="name">Name:</label>
        <InputText DisplayName="Name" id="name" @bind-Value="createInput.Name" class="form-control" />
    </div>
    <br />

    <label class="form-label" for="users">Users:</label>
    <div id="users" class="form-group">
        <CascadingValue Value="@createInput.UserCheckboxes" Name="UserCheckboxes">
            <UsersList />
        </CascadingValue>
    </div>
    <br />
    <input type="submit" class="btn btn-primary" value="Create" />
</EditForm>
